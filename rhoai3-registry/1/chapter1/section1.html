<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Architecture: The AI Supply Chain :: Red Hat OpenShift AI (RHOAI) Model Registry</title>
    <link rel="prev" href="index.html">
    <link rel="next" href="section2.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Red Hat OpenShift AI (RHOAI) Model Registry</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rhoai3-registry" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Red Hat OpenShift AI (RHOAI) Model Registry</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Introduction &amp; Value</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="section1.html">Architecture Deep Dive</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="section2.html">The QuickStart Lab</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="section3.html">Troubleshooting</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Red Hat OpenShift AI (RHOAI) Model Registry</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Red Hat OpenShift AI (RHOAI) Model Registry</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Red Hat OpenShift AI (RHOAI) Model Registry</a></li>
    <li><a href="section1.html">Architecture Deep Dive</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Architecture: The AI Supply Chain</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph lead">
<p><strong>A "Registry" is not a "Repository." Understanding the difference is key to a scalable AI Platform.</strong></p>
</div>
<div class="paragraph">
<p>To build a private AI factory, you must distinguish between <strong>where the data lives</strong> and <strong>how the data is governed</strong>. In Red Hat OpenShift AI (RHOAI), we decouple these two concerns to ensure performance, security, and flexibility.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_core_concept_decoupling_control_vs_data"><a class="anchor" href="#_the_core_concept_decoupling_control_vs_data"></a>The Core Concept: Decoupling Control vs. Data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The RHOAI Model Registry architecture follows a "Split-Plane" design.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>The Control Plane (The "Librarian"):</strong> The Model Registry itself. It is a lightweight metadata service backed by a relational database (MySQL). It knows <strong>about</strong> the models (Author, Version, License, Metrics) but does not hold the files.</p>
</li>
<li>
<p><strong>The Data Plane (The "Bookshelf"):</strong> Your Object Storage (S3/MinIO/Ceph). This is where the heavy artifacts (Safetensors, ONNX files, configs) actually reside.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_component_breakdown"><a class="anchor" href="#_component_breakdown"></a>Component Breakdown</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_1_the_registry_service_control_plane"><a class="anchor" href="#_1_the_registry_service_control_plane"></a>1. The Registry Service (Control Plane)</h3>
<div class="paragraph">
<p>This is the brain of the operation. It exposes a REST API that allows users and systems to register, query, and update model metadata.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Technology:</strong> A Golang-based service managed by the <code>model-registry-operator</code>.</p>
</li>
<li>
<p><strong>Backend:</strong> Requires a MySQL 8.x or MariaDB database.</p>
</li>
<li>
<p><strong>Function:</strong> Enforces the schema. It ensures that every registered model has the required fields (e.g., you cannot register a model without a version number).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_2_the_artifact_storage_data_plane"><a class="anchor" href="#_2_the_artifact_storage_data_plane"></a>2. The Artifact Storage (Data Plane)</h3>
<div class="paragraph">
<p>This is the vault. It must be an S3-compatible object storage service.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Technology:</strong> AWS S3, Red Hat Ceph Storage, or MinIO (for this lab).</p>
</li>
<li>
<p><strong>Security:</strong> This bucket should be <strong>private</strong>. Only the specific Service Accounts used by your pipelines and serving runtimes should have read access.</p>
</li>
<li>
<p><strong>The "Golden Image" Concept:</strong> Once a model version is uploaded here and registered, the file should be treated as <strong>immutable</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_3_the_model_catalog_the_showroom"><a class="anchor" href="#_3_the_model_catalog_the_showroom"></a>3. The Model Catalog (The "Showroom")</h3>
<div class="paragraph">
<p>The Catalog is where Data Scientists browse available models. By default, it shows public models (Granite, Llama). To show <strong>your</strong> private models, we must explicitly connect the two.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>The Mechanism:</strong> The RHOAI Dashboard reads from <strong>Catalog Sources</strong>.</p>
</li>
<li>
<p><strong>The Integration:</strong> We will deploy a specific <strong><code>ModelCatalogSource</code></strong> (YAML) that connects to our Registry.</p>
</li>
<li>
<p><strong>The Workflow:</strong></p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A model is registered in the <strong>Model Registry</strong> (Status: <code>Registered</code>).</p>
</li>
<li>
<p>We apply a <code>CatalogSource</code> configuration that references our Registry&#8217;s API.</p>
</li>
<li>
<p>The Dashboard then renders a card for your private model, allowing users to deploy it just like a public Red Hat model.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<details>
<summary class="title">Details</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">apiVersion: v1
kind: ConfigMap
metadata:
  name: private-registry-config
  namespace: redhat-ods-applications # The namespace where RHOAI Dashboard runs
  labels:
    opendatahub.io/dashboard: "true" # Required for the Dashboard to detect this config
data:
  # This section configures the connection between the UI and your Registry Service
  service-config.yaml: |
    displayName: "Private Enterprise Registry"
    description: "Verified models for internal production use (Gold/Silver/Bronze)"
    provider: "MyCompany AI Platform"
    serviceURL: "http://model-registry-service.rhoai-model-registry.svc.cluster.local:8080"
    bearerTokenSecret: "model-registry-db-secret" # References the secret created in Step 1
    supportedFormats:
      - name: "safetensors"
      - name: "onnx"
      - name: "gguf"</code></pre>
</div>
</div>
</div>
</details>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_data_flow_lifecycle_of_a_model"><a class="anchor" href="#_the_data_flow_lifecycle_of_a_model"></a>The Data Flow: Lifecycle of a Model</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Understanding this flow is critical for the hands-on lab you are about to perform.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Ingestion (The Download):</strong></p>
<div class="ulist">
<ul>
<li>
<p>A Python script authenticates with Hugging Face (or another source).</p>
</li>
<li>
<p>It downloads the raw files to a temporary workspace.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Storage (The Push):</strong></p>
<div class="ulist">
<ul>
<li>
<p>The script uploads the files to your private S3 bucket (e.g., <code>s3://my-private-models/granite-7b/v1/</code>).</p>
</li>
<li>
<p><strong>Result:</strong> The data is now safe and sovereign.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Registration (The Stamp):</strong></p>
<div class="ulist">
<ul>
<li>
<p>The script calls the Model Registry API.</p>
</li>
<li>
<p>It sends a JSON payload: "I have a model named 'Granite', Version '1.0', located at 's3://&#8230;&#8203;'"</p>
</li>
<li>
<p><strong>Result:</strong> The Registry generates a unique ID and stamps the entry.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Discovery (The Consumption):</strong></p>
<div class="ulist">
<ul>
<li>
<p>A Data Scientist opens the RHOAI Dashboard.</p>
</li>
<li>
<p>They see the "Granite 7B" card.</p>
</li>
<li>
<p>When they click "Deploy," RHOAI reads the S3 URI from the Registry and pulls the weights directly from your private bucketâ€”<strong>never</strong> touching the public internet.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_system_requirements_for_the_lab"><a class="anchor" href="#_system_requirements_for_the_lab"></a>System Requirements for the Lab</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To build this architecture in the next module, your cluster must meet these minimums:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Component</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Role</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>OpenShift AI</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v3.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Platform</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Database</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MySQL v8.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registry Backend</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Storage</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinIO (or S3)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artifact Storage</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Compute</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 vCPUs, 4GB RAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For Registry &amp; DB Pods</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<hr>
<div class="paragraph">
<p><strong>Now that you understand the blueprint, it is time to pick up the tools.</strong></p>
</div>
<div class="paragraph">
<p><a href="section2.html" class="xref page">Next: The QuickStart Lab (Hands-On) &gt;</a></p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="index.html">Introduction &amp; Value</a></span>
  <span class="next"><a href="section2.html">The QuickStart Lab</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
